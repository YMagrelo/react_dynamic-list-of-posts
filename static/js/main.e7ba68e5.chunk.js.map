{"version":3,"sources":["api.ts","components/Person.tsx","components/Comment.tsx","components/CommentList.tsx","components/Post.tsx","components/PostList.tsx","App.tsx","index.tsx"],"names":["getData","url","a","fetch","response","json","getPostsWithUsersComments","posts","users","commentsPost","map","post","user","find","person","id","userId","comments","filter","message","postId","Person","address","street","suite","city","zipcode","name","email","className","Comment","body","CommentList","commentsToPost","comment","key","Post","title","PostList","App","useState","setPosts","originalPosts","setOriginalPosts","isLoading","setLoading","query","setQuery","loadPosts","postsFromServer","useMemo","toLowerCase","includes","length","type","onClick","disabled","onSubmit","event","preventDefault","placeholder","onChange","target","value","ReactDOM","render","document","getElementById"],"mappings":"8PASMA,EAAO,uCAAG,WAAUC,GAAV,eAAAC,EAAA,sEACSC,MAAM,GAAD,OANb,wCAMa,OAAeF,IAD7B,cACRG,EADQ,yBAGPA,EAASC,QAHF,2CAAH,sDAkBAC,EAAyB,uCAAG,gCAAAJ,EAAA,sEAXhCF,EAXS,UAsBuB,cACjCO,EADiC,gBAPhCP,EAdS,UAqBuB,cAEjCQ,EAFiC,gBAHhCR,EAjBY,aAoBoB,cAGjCS,EAHiC,yBAKhCF,EAAMG,KAAI,SAAAC,GACf,IAAMC,EAAOJ,EAAMK,MAAK,SAAAC,GAAM,OAAIA,EAAOC,KAAOJ,EAAKK,UAC/CC,EAAWR,EACdS,QAAO,SAAAC,GAAO,OAAIA,EAAQC,SAAWT,EAAKK,UAE7C,OAAO,eACFL,EADL,CAEEC,OACAK,iBAbmC,4CAAH,qDCnBzBI,EAAoB,SAAC,GAAc,IAAZT,EAAW,EAAXA,KAAW,EAMzCA,EAAKU,QAJPC,EAF2C,EAE3CA,OACAC,EAH2C,EAG3CA,MACAC,EAJ2C,EAI3CA,KACAC,EAL2C,EAK3CA,QAGMC,EAAgBf,EAAhBe,KAAMC,EAAUhB,EAAVgB,MAEd,OACE,yBAAKC,UAAU,UACb,4BAAKF,GACL,2BAAIC,GACJ,wBAAIC,UAAU,wBACZ,4BAAKN,GACL,4BAAKC,GACL,4BAAKC,GACL,4BAAKC,MClBAI,EAAqB,SAAC,GAAD,IAAGH,EAAH,EAAGA,KAAMI,EAAT,EAASA,KAAMH,EAAf,EAAeA,MAAf,OAChC,yBAAKC,UAAU,WACb,4BAAKF,GACL,2BAAII,GACJ,uBAAGF,UAAU,kBAAkBD,KCJtBI,EAAyB,SAAC,GAAD,IAAGC,EAAH,EAAGA,eAAH,OACpC,oCACGA,EAAevB,KAAI,SAAAwB,GAAY,IAE5BnB,EAIEmB,EAJFnB,GACAY,EAGEO,EAHFP,KACAI,EAEEG,EAFFH,KACAH,EACEM,EADFN,MAGF,OACE,kBAAC,EAAD,CACEO,IAAKpB,EACLY,KAAMA,EACNI,KAAMA,EACNH,MAAOA,SCVJQ,EAAkB,SAAC,GAAD,IAC7BC,EAD6B,EAC7BA,MAAON,EADsB,EACtBA,KAAMnB,EADgB,EAChBA,KAAMK,EADU,EACVA,SADU,OAG7B,oCACE,wBAAIY,UAAU,eAAeQ,GAC7B,uBAAGR,UAAU,cAAcE,GAC3B,kBAAC,EAAD,CAAQnB,KAAMA,IACd,wCACA,kBAAC,EAAD,CAAaqB,eAAgBhB,MCbpBqB,EAAsB,SAAC,GAAe,IAAb/B,EAAY,EAAZA,MACpC,OACE,wBAAIsB,UAAU,SACXtB,EAAMG,KAAI,SAAAC,GAAI,OACb,wBAAIwB,IAAKxB,EAAKI,GAAIc,UAAU,QAC1B,kBAAC,EAAD,CACEQ,MAAO1B,EAAK0B,MACZN,KAAMpB,EAAKoB,KACXnB,KAAMD,EAAKC,KACXK,SAAUN,EAAKM,iBC4DZsB,EArEC,WAAO,IAAD,EACMC,mBAA0B,IADhC,mBACbjC,EADa,KACNkC,EADM,OAEsBD,mBAA0B,IAFhD,mBAEbE,EAFa,KAEEC,EAFF,OAGYH,oBAAS,GAHrB,mBAGbI,EAHa,KAGFC,EAHE,OAIML,mBAAS,IAJf,mBAIbM,EAJa,KAINC,EAJM,KAMdC,EAAS,uCAAG,4BAAA9C,EAAA,6DAChB2C,GAAW,GADK,SAEcvC,IAFd,OAEV2C,EAFU,OAIhBR,EAASQ,GACTN,EAAiBM,GALD,2CAAH,qDA0Bf,OAPAC,mBAAQ,WACNT,EAASC,EACNxB,QAAO,SAAAP,GAAI,OAAIA,EAAK0B,MAAMc,cAAcC,SAASN,IAC7CnC,EAAKoB,KAAKoB,cAAcC,SAASN,SACvC,CAACA,EAAOJ,IAIT,yBAAKb,UAAU,OACb,wBAAIA,UAAU,gBAAd,yBAC2B,IAAzBa,EAAcW,OAEZ,oCACE,4BACEC,KAAK,SACLC,QAASP,EACTQ,SAAUZ,EACVf,UAAU,0CAJZ,cAQCe,GACC,0CAKJ,oCACE,0BAAMa,SAjCK,SAACC,GACpBA,EAAMC,iBACNZ,EAAS,MAgCC,2BACElB,UAAU,8BACV+B,YAAY,mBACZC,SA3CM,SAACH,GAA0C,IACrDI,EAAWJ,EAAXI,OAERf,EAASe,EAAOC,MAAMZ,gBAyCVG,KAAK,OACLS,MAAOjB,KAGX,kBAAC,EAAD,CAAUvC,MAAOA,OCjE7ByD,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,U","file":"static/js/main.e7ba68e5.chunk.js","sourcesContent":["import {\n  Post, User, Comments, PreparedPosts,\n} from './interfaces';\n\nconst BASE_URL = 'https://jsonplaceholder.typicode.com';\nconst POSTS_URL = '/posts';\nconst USERS_URL = '/users';\nconst COMMENTS_URL = '/comments';\n\nconst getData = async <T>(url: string): Promise<T> => {\n  const response = await fetch(`${BASE_URL}${url}`);\n\n  return response.json();\n};\n\nconst getPosts = (): Promise<Post[]> => {\n  return getData<Post[]>(POSTS_URL);\n};\n\nconst getUsers = (): Promise<User[]> => {\n  return getData<User[]>(USERS_URL);\n};\n\nconst getComments = (): Promise<Comments[]> => {\n  return getData<Comments[]>(COMMENTS_URL);\n};\n\nexport const getPostsWithUsersComments = async (): Promise<PreparedPosts[]> => {\n  const posts: Post[] = await getPosts();\n  const users: User[] = await getUsers();\n  const commentsPost: Comments[] = await getComments();\n\n  return posts.map(post => {\n    const user = users.find(person => person.id === post.userId) as User;\n    const comments = commentsPost\n      .filter(message => message.postId === post.userId) as Comments[];\n\n    return {\n      ...post,\n      user,\n      comments,\n    };\n  });\n};\n","import React, { FC } from 'react';\nimport { User } from '../interfaces';\n\ninterface Props {\n  user: User;\n}\n\n\nexport const Person: FC<Props> = ({ user }) => {\n  const {\n    street,\n    suite,\n    city,\n    zipcode,\n  } = user.address;\n\n  const { name, email } = user;\n\n  return (\n    <div className=\"person\">\n      <h3>{name}</h3>\n      <p>{email}</p>\n      <ul className=\"person__address-list\">\n        <li>{street}</li>\n        <li>{suite}</li>\n        <li>{city}</li>\n        <li>{zipcode}</li>\n      </ul>\n    </div>\n\n  );\n};\n","import React, { FC } from 'react';\n\ninterface Props {\n  name: string;\n  body: string;\n  email: string;\n}\n\nexport const Comment: FC<Props> = ({ name, body, email }) => (\n  <div className=\"comment\">\n    <h4>{name}</h4>\n    <p>{body}</p>\n    <p className=\"comment__email\">{email}</p>\n  </div>\n);\n","import React, { FC } from 'react';\nimport { Comments } from '../interfaces';\nimport { Comment } from './Comment';\n\ninterface Props {\n  commentsToPost: Comments[];\n}\n\nexport const CommentList: FC<Props> = ({ commentsToPost }) => (\n  <>\n    {commentsToPost.map(comment => {\n      const {\n        id,\n        name,\n        body,\n        email,\n      } = comment;\n\n      return (\n        <Comment\n          key={id}\n          name={name}\n          body={body}\n          email={email}\n        />\n      );\n    })}\n  </>\n);\n","import React, { FC } from 'react';\nimport { Comments, User } from '../interfaces';\nimport { Person } from './Person';\nimport { CommentList } from './CommentList';\n\ninterface Props {\n  title: string;\n  body: string;\n  comments: Comments[];\n  user: User;\n}\n\n\nexport const Post: FC<Props> = ({\n  title, body, user, comments,\n}) => (\n  <>\n    <h2 className=\"post__title\">{title}</h2>\n    <p className=\"post__body\">{body}</p>\n    <Person user={user} />\n    <h3>Comments</h3>\n    <CommentList commentsToPost={comments} />\n  </>\n);\n","import React, { FC } from 'react';\nimport { PreparedPosts } from '../interfaces';\nimport { Post } from './Post';\n\ninterface Props {\n  posts: PreparedPosts[];\n}\n\nexport const PostList: FC<Props> = ({ posts }) => {\n  return (\n    <ul className=\"posts\">\n      {posts.map(post => (\n        <li key={post.id} className=\"post\">\n          <Post\n            title={post.title}\n            body={post.body}\n            user={post.user}\n            comments={post.comments}\n          />\n        </li>\n      ))}\n    </ul>\n\n  );\n};\n","import React, {\n  FC, useState, ChangeEvent, useMemo, FormEvent,\n} from 'react';\nimport './App.scss';\nimport { PreparedPosts } from './interfaces';\nimport { getPostsWithUsersComments } from './api';\nimport { PostList } from './components/PostList';\n\nconst App: FC = () => {\n  const [posts, setPosts] = useState<PreparedPosts[]>([]);\n  const [originalPosts, setOriginalPosts] = useState<PreparedPosts[]>([]);\n  const [isLoading, setLoading] = useState(false);\n  const [query, setQuery] = useState('');\n\n  const loadPosts = async () => {\n    setLoading(true);\n    const postsFromServer = await getPostsWithUsersComments();\n\n    setPosts(postsFromServer);\n    setOriginalPosts(postsFromServer);\n  };\n\n  const handleInput = (event: ChangeEvent<HTMLInputElement>) => {\n    const { target } = event;\n\n    setQuery(target.value.toLowerCase());\n  };\n\n  const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setQuery('');\n  };\n\n  useMemo(() => {\n    setPosts(originalPosts\n      .filter(post => post.title.toLowerCase().includes(query)\n        || post.body.toLowerCase().includes(query)));\n  }, [query, originalPosts]);\n\n\n  return (\n    <div className=\"app\">\n      <h1 className=\"app__heading\">Dynamic list of posts</h1>\n      {(originalPosts.length === 0)\n        ? (\n          <>\n            <button\n              type=\"button\"\n              onClick={loadPosts}\n              disabled={isLoading}\n              className=\"button is-primary is-light app__button\"\n            >\n          Load posts\n            </button>\n            {isLoading && (\n              <p>Loading...</p>\n            )}\n          </>\n        )\n        : (\n          <>\n            <form onSubmit={handleSubmit}>\n              <input\n                className=\"app__input input is-primary\"\n                placeholder=\"Type search word\"\n                onChange={handleInput}\n                type=\"text\"\n                value={query}\n              />\n            </form>\n            <PostList posts={posts} />\n          </>\n        )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}